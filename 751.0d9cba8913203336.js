"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[751],{1751:(kt,J,a)=>{a.r(J),a.d(J,{ResultsModule:()=>Rt});var Z=a(9116),j=a(5851),$=a(7338),T=a(9606),b=a(7579),g=a(2722),m=a(9653);const I=o=>o.results,f=((0,m.P1)(I,o=>o.result),(0,m.P1)(I,o=>o.results));var r=a(4006),d=a(5938),L=a(1135);const Y=o=>o.games,P=((0,m.P1)(Y,o=>o.game),(0,m.P1)(Y,o=>o.games));var t=a(4650),y=a(1683),C=a(7009),u=a(6895),B=a(3238),R=a(4859),k=a(9549),H=a(4144),S=a(4385),A=a(266);function K(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-option",9),t._uU(2),t.qZA(),t.BQk()),2&o){const e=s.$implicit;t.xp6(1),t.Q6J("value",e._id),t.xp6(1),t.hij(" ",e.fullname," ")}}const V=function(o){return{"cursor-not-allowed":o}};let z=(()=>{class o{constructor(e,n,i,l,c,p,_){this.data=e,this._dialogRef=n,this._changeDetectorRef=i,this._formBuilder=l,this._fuseConfirmationService=c,this._snackBar=p,this.store=_,this.players=[],this._unsubscribeAll=new b.x,this.players=e.players,console.log("Players:",this.players)}ngOnInit(){this.goalForm=this._formBuilder.group({player:["",[r.kI.required]],team:["",[r.kI.required]],game:[this.data.gameId,[r.kI.required]],minute:[null,[r.kI.required]]}),this.goalForm.get("player").valueChanges.pipe((0,g.R)(this._unsubscribeAll)).subscribe(e=>{const n=this.players.find(i=>i._id===e).team._id;this.goalForm.get("team").setValue(n)})}closeDialog(){this._dialogRef.close()}createGoal(){this._dialogRef.close(this.goalForm.getRawValue())}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.WI),t.Y36(d.so),t.Y36(t.sBO),t.Y36(r.qu),t.Y36(y.R),t.Y36(C.ux),t.Y36(m.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ath-goal-dialog"]],decls:27,vars:9,consts:[[1,"relative","flex","flex-col","w-full","max-h-screen"],[1,"flex","flex-col","items-center","flex-auto","w-full"],[1,"w-full","px-12","py-5"],[1,"flex","flex-col","w-full","gap-5"],[1,"flex","flex-col","justify-end","w-4/5","my-2"],[1,"text-2xl","font-bold","truncate","sm:text-2xl"],[1,"flex","flex-col","border-t","gap-y-5"],[1,"flex","flex-col","w-full","pt-6","space-y-4","sm:mt-4","sm:space-y-8",3,"autocomplete","formGroup"],["formControlName","player"],[3,"value"],[4,"ngFor","ngForOf"],["matInput","","type","number","formControlName","minute"],[1,"flex","items-center","space-x-3","justify-between","w-full","px-8","py-4","sm:px-12","bg-gray-50","dark:bg-transparent"],["mat-stroked-button","",3,"matTooltip","click"],["mat-button","",1,"text-shamrock-900","bg-primary-500",3,"disabled","matTooltip","ngClass","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),t._uU(6," Agregar gol "),t.qZA()(),t.ynx(7)(8),t.TgZ(9,"div",6)(10,"form",7)(11,"mat-form-field")(12,"mat-label"),t._uU(13,"Seleccione un jugador"),t.qZA(),t.TgZ(14,"mat-select",8),t._UZ(15,"mat-option",9),t.YNc(16,K,3,2,"ng-container",10),t.qZA()(),t.TgZ(17,"mat-form-field")(18,"mat-label"),t._uU(19,"Minuto"),t.qZA(),t._UZ(20,"input",11),t.qZA()()(),t.BQk()(),t.qZA(),t.ynx(21),t.TgZ(22,"div",12)(23,"button",13),t.NdJ("click",function(){return n.closeDialog()}),t._uU(24," Cancelar "),t.qZA(),t.TgZ(25,"button",14),t.NdJ("click",function(){return n.createGoal()}),t._uU(26," Guardar "),t.qZA()(),t.BQk(),t.qZA()()()),2&e&&(t.xp6(10),t.Q6J("autocomplete","off")("formGroup",n.goalForm),t.xp6(6),t.Q6J("ngForOf",n.players),t.xp6(7),t.Q6J("matTooltip","Cancelar"),t.xp6(2),t.Q6J("disabled",n.goalForm.invalid)("matTooltip","Guardar")("ngClass",t.VKq(7,V,n.goalForm.invalid)))},dependencies:[u.mk,u.sg,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,B.ey,R.lW,k.KE,k.hX,H.Nt,S.gD,A.gM],encapsulation:2}),o})();class w{constructor(s,e,n){this.game=s,this.localGoals=e,this.visitorGoals=n}}var M=a(3422),N=a(529),G=a(5698),q=a(3900),x=a(8505),h=a(4981);const v=a(2340).N.API_URL;let U=(()=>{class o{constructor(e,n){this._httpClient=e,this.store=n}createResult(e){return this.store.select(f).pipe((0,G.q)(1),(0,q.w)(n=>this._httpClient.post(`${v}/results`,e).pipe((0,x.b)(i=>{this.store.dispatch((0,h.iM)({results:[i.result,...n]}))}))))}getResults(e=0,n=10,i="points",l="desc",c=""){return(new N.LE).append("page",e.toString()).append("size",n.toString()).append("sort",i).append("order",l).append("search",c),this._httpClient.get(`${v}/results`).pipe((0,x.b)(({results:_})=>{this.store.dispatch((0,h.iM)({results:_}))}))}updateResult(e){return this.store.select(f).pipe((0,G.q)(1),(0,q.w)(n=>this._httpClient.patch(`${v}/results/${e._id}`,e).pipe((0,x.b)(i=>{[...n][n.findIndex(p=>p._id===e._id)]=i.result,this.store.dispatch((0,h.iM)({results:n}))}))))}deleteResult(e){return this.store.select(f).pipe((0,G.q)(1),(0,q.w)(n=>this._httpClient.delete(`${v}/results/${e}`).pipe((0,x.b)(i=>{const l=n.findIndex(c=>c._id===e);n.splice(l,1),this.store.dispatch((0,h.iM)({results:n}))}))))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(N.eN),t.LFG(m.yh))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var O=a(7392);function X(o,s){1&o&&(t.TgZ(0,"span",11),t._uU(1," Agregar resultado "),t.qZA())}function tt(o,s){1&o&&(t.TgZ(0,"span",11),t._uU(1," Editar resultado "),t.qZA())}function et(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-option",16)(2,"div",18)(3,"div",19)(4,"div",20),t._uU(5),t.qZA()(),t.TgZ(6,"div",21),t._uU(7," VS"),t.qZA(),t.TgZ(8,"div",19)(9,"div",20),t._uU(10),t.qZA()()()(),t.BQk()),2&o){const e=s.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(4),t.hij(" ",e.localTeam.abbr," "),t.xp6(5),t.hij(" ",e.visitorTeam.abbr," ")}}function ot(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",30),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw(3);t.xp6(2),t.hij(" ",e.localGoals.length," ")}}function nt(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",30),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw(3);t.xp6(2),t.hij(" ",e.visitorGoals.length," ")}}function it(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",22)(2,"div",19)(3,"div",23),t._UZ(4,"img",24),t.TgZ(5,"div",20),t._uU(6),t.qZA()()(),t.TgZ(7,"div",25),t.YNc(8,ot,3,1,"ng-container",6),t.TgZ(9,"div",21),t._uU(10,"-"),t.qZA(),t.YNc(11,nt,3,1,"ng-container",6),t.qZA(),t.TgZ(12,"div",19)(13,"div",23),t._UZ(14,"img",26),t.TgZ(15,"div",20),t._uU(16),t.qZA()()()(),t.TgZ(17,"div",22)(18,"div",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openGoalDialog("local"))}),t.O4$(),t.TgZ(19,"svg",28),t._UZ(20,"path",29),t.qZA()(),t.kcU(),t._UZ(21,"div"),t.TgZ(22,"div",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openGoalDialog("visitor"))}),t.O4$(),t.TgZ(23,"svg",28),t._UZ(24,"path",29),t.qZA()()(),t.BQk()}if(2&o){const e=s.ngIf,n=t.oxw(2);t.xp6(4),t.Q6J("src",e.localTeam.flag,t.LSH),t.xp6(2),t.Oqu(e.localTeam.abbr),t.xp6(2),t.Q6J("ngIf",n.localGoals),t.xp6(3),t.Q6J("ngIf",n.visitorGoals),t.xp6(3),t.Q6J("src",e.visitorTeam.flag,t.LSH),t.xp6(2),t.Oqu(e.visitorTeam.abbr)}}function st(o,s){if(1&o){const e=t.EpF();t.ynx(0)(1),t.TgZ(2,"div",12)(3,"div",13)(4,"div",14)(5,"mat-form-field")(6,"mat-select",15),t.NdJ("ngModelChange",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedGame=i)})("selectionChange",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.selectGame(i))}),t._UZ(7,"mat-option",16),t.YNc(8,et,11,3,"ng-container",17),t.qZA()()(),t.YNc(9,it,25,6,"ng-container",6),t.ALo(10,"async"),t.qZA()(),t.BQk()()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.selectedGame),t.xp6(2),t.Q6J("ngForOf",e.games),t.xp6(1),t.Q6J("ngIf",t.lcZ(10,3,e.selectedGame$))}}function lt(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",30),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw(3);t.xp6(2),t.hij(" ",e.localGoals.length," ")}}function at(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",30),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw(3);t.xp6(2),t.hij(" ",e.visitorGoals.length," ")}}function rt(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",33)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"button",34),t.NdJ("click",function(){const l=t.CHM(e).index,c=t.oxw(4);return t.KtG(c.removeGoal("local",l))}),t._UZ(5,"mat-icon",35),t.qZA()(),t.BQk()}if(2&o){const e=s.$implicit;t.xp6(3),t.AsE("",e.player.dorsal," ",e.minute,"'"),t.xp6(2),t.Q6J("svgIcon","mat_outline:delete")}}function ct(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",33)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"button",34),t.NdJ("click",function(){const l=t.CHM(e).index,c=t.oxw(4);return t.KtG(c.removeGoal("visitor",l))}),t._UZ(5,"mat-icon",35),t.qZA()(),t.BQk()}if(2&o){const e=s.$implicit;t.xp6(3),t.AsE("",e.player.dorsal," ",e.minute,"'"),t.xp6(2),t.Q6J("svgIcon","mat_outline:delete")}}function ut(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",22)(2,"div",31),t.YNc(3,rt,6,3,"ng-container",32),t.qZA(),t._UZ(4,"div"),t.TgZ(5,"div",31),t.YNc(6,ct,6,3,"ng-container",32),t.qZA()(),t.BQk()),2&o){const e=t.oxw(3);t.xp6(3),t.Q6J("ngForOf",e.localGoals)("ngForTrackBy",e.trackByFn),t.xp6(3),t.Q6J("ngForOf",e.visitorGoals)("ngForTrackBy",e.trackByFn)}}function gt(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",22)(2,"div",19)(3,"div",23),t._UZ(4,"img",24),t.TgZ(5,"div",20),t._uU(6),t.qZA()()(),t.TgZ(7,"div",25),t.YNc(8,lt,3,1,"ng-container",6),t.TgZ(9,"div",21),t._uU(10,"-"),t.qZA(),t.YNc(11,at,3,1,"ng-container",6),t.qZA(),t.TgZ(12,"div",19)(13,"div",23),t._UZ(14,"img",26),t.TgZ(15,"div",20),t._uU(16),t.qZA()()()(),t.YNc(17,ut,7,4,"ng-container",6),t.TgZ(18,"div",22)(19,"div",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openGoalDialog("local"))}),t.O4$(),t.TgZ(20,"svg",28),t._UZ(21,"path",29),t.qZA()(),t.kcU(),t._UZ(22,"div"),t.TgZ(23,"div",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openGoalDialog("visitor"))}),t.O4$(),t.TgZ(24,"svg",28),t._UZ(25,"path",29),t.qZA()()(),t.BQk()}if(2&o){const e=s.ngIf,n=t.oxw(2);t.xp6(4),t.Q6J("src",e.localTeam.flag,t.LSH),t.xp6(2),t.Oqu(e.localTeam.abbr),t.xp6(2),t.Q6J("ngIf",n.localGoals),t.xp6(3),t.Q6J("ngIf",n.visitorGoals),t.xp6(3),t.Q6J("src",e.visitorTeam.flag,t.LSH),t.xp6(2),t.Oqu(e.visitorTeam.abbr),t.xp6(1),t.Q6J("ngIf",n.localGoals.length||n.visitorGoals.length)}}function mt(o,s){if(1&o&&(t.ynx(0)(1),t.TgZ(2,"div",12)(3,"div",13),t.YNc(4,gt,26,7,"ng-container",6),t.ALo(5,"async"),t.qZA()(),t.BQk()()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",t.lcZ(5,1,e.selectedGame$))}}const E=function(o){return{"cursor-not-allowed":o}};function pt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updateResult())}),t._uU(1," Actualizar "),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("invalid",e.resultForm.invalid)("matTooltip","Actualizar")("ngClass",t.VKq(3,E,e.resultForm.invalid))}}function _t(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.createResult())}),t._uU(1," Guardar "),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("invalid",e.resultForm.invalid)("matTooltip","Guardar")("ngClass",t.VKq(3,E,e.resultForm.invalid))}}let dt=(()=>{class o{constructor(e,n,i,l,c,p,_,D,F,Q){this.data=e,this._dialogRef=n,this._changeDetectorRef=i,this._formBuilder=l,this._fuseConfirmationService=c,this._goalDialog=p,this._playersService=_,this._resultsService=D,this._snackBar=F,this.store=Q,this.dialogMode="edit",this.formSubmitted=!1,this.game=null,this.games=[],this.isValid=!1,this.selectedGame$=new L.X(null),this.showAlert=!1,this.localGoals=[],this.visitorGoals=[],this.localTeamPlayers=[],this.visitorTeamPlayers=[],this._unsubscribeAll=new b.x,this.dialogMode=e.dialogMode,this.selectedResult=e.result}ngOnInit(){this.resultForm=this._formBuilder.group({game:["",[r.kI.required]],localGoals:this._formBuilder.array([]),visitorGoals:this._formBuilder.array([])}),this.store.select(P).pipe((0,g.R)(this._unsubscribeAll)).subscribe(e=>{this.games=e.filter(n=>!1===n.finished),this._changeDetectorRef.markForCheck()}),this.selectedGame$.subscribe(e=>{e&&(this.game=e,this.resultForm.get("game").setValue(e._id),this._playersService.getPlayersByGame(e.localTeam._id,e.visitorTeam._id).pipe((0,g.R)(this._unsubscribeAll)).subscribe(({localTeamPlayers:n,visitorTeamPlayers:i})=>{this.localTeamPlayers=n,this.visitorTeamPlayers=i})),this._changeDetectorRef.markForCheck()}),"edit"===this.dialogMode&&(this.selectedGame$.next(this.data.result.game),this.localGoals=this.data.result.localGoals,this.visitorGoals=this.data.result.visitorGoals)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}selectGame(e){this.selectedGame$.next(e.value)}closeDialog(){this._dialogRef.close()}openGoalDialog(e){this._goalDialog.open(z,{data:{players:"local"===e?this.localTeamPlayers:this.visitorTeamPlayers,gameId:this.game._id},panelClass:"ath-dialog-panel"}).afterClosed().subscribe(i=>{"local"===e&&this.localGoals.push(i),"visitor"===e&&this.visitorGoals.push(i)})}removeGoal(e,n){if("local"===e){const i=[...this.localGoals];this.localGoals=i.filter(l=>l!==i[n])}if("visitor"===e){const i=[...this.visitorGoals];this.visitorGoals=i.filter(l=>l!==i[n])}}createResult(){const e=new w(this.game._id,this.localGoals,this.visitorGoals);this._fuseConfirmationService.open({title:"Crear Resultado",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._resultsService.createResult(e).pipe((0,g.R)(this._unsubscribeAll)).subscribe(l=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:l.message,icon:{show:!0,name:"heroicons_outline:check",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1})}),this._changeDetectorRef.markForCheck()})}updateResult(){const e=new w(this.selectedResult.game._id,this.localGoals,this.visitorGoals);this._fuseConfirmationService.open({title:"Actualizar Resultado",message:"\xbfEsta seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._resultsService.updateResult(e).pipe((0,g.R)(this._unsubscribeAll)).subscribe(l=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:l.message,icon:{show:!0,name:"heroicons_outline:check",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1})}),this._changeDetectorRef.markForCheck()})}trackByFn(e,n){return n.id||e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.WI),t.Y36(d.so),t.Y36(t.sBO),t.Y36(r.qu),t.Y36(y.R),t.Y36(d.uw),t.Y36(M.h),t.Y36(U),t.Y36(C.ux),t.Y36(m.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ath-result-dialog"]],decls:15,vars:7,consts:[[1,"relative","flex","flex-col","w-full","max-h-screen"],[1,"flex","flex-col","items-center","flex-auto","w-full"],[1,"w-full","px-12","py-5"],[1,"flex","flex-col","w-full","gap-5"],[1,"flex","flex-col","justify-end","w-4/5","my-2"],["class","text-2xl font-bold truncate sm:text-2xl",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center","space-x-3","justify-between","w-full","px-8","py-4","sm:px-12","bg-gray-50","dark:bg-transparent"],["mat-stroked-button","",3,"matTooltip","click"],["mat-flat-button","","class","text-shamrock-900 bg-primary-500",3,"invalid","matTooltip","ngClass","click",4,"ngIf"],["mat-button","","class","text-shamrock-900 bg-primary-500",3,"invalid","matTooltip","ngClass","click",4,"ngIf"],[1,"text-2xl","font-bold","truncate","sm:text-2xl"],[1,"flex","flex-col","border-t","gap-y-5"],[1,"flex","flex-col","w-full","gap-8"],[1,"flex","flex-col","w-full","pt-6","space-y-4","sm:mt-4","sm:space-y-8"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[4,"ngFor","ngForOf"],[1,"grid","grid-cols-3","w-auto","py-2.5"],[1,"flex","flex-row","justify-center","items-center","w-full","gap-2"],[1,"text-xl","font-black","p-2.5"],[1,"flex","justify-center","items-center","font-semibold","text-md"],[1,"grid","grid-cols-3","w-full","py-2.5","px-1"],[1,"w-full","flex","flex-col","justify-center","items-center"],["alt","Local Flag",1,"w-10",3,"src"],[1,"grid","grid-cols-3"],["alt","Visitor Flag",1,"w-10",3,"src"],[1,"flex","flex-row","justify-center","items-center","w-full","gap-2","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","48","width","48"],["d","M24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 24q0-4.15 1.575-7.775t4.3-6.35q2.725-2.725 6.375-4.3Q19.9 4 24 4q4.15 0 7.775 1.575t6.35 4.3q2.725 2.725 4.3 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.3 6.375-2.725 2.725-6.35 4.3Q28.15 44 24 44Zm10.25-24.65 3.45-1.2.9-3.2q-1.7-2.65-4.2-4.525-2.5-1.875-5.65-2.875L25.5 9.7v3.5Zm-20.45 0 8.7-6.15V9.7l-3.2-2.15q-3.15 1-5.65 2.875-2.5 1.875-4.2 4.525l1.1 3.2Zm-2.7 16 3-.35 1.95-3.25-3.1-9.55L9.4 21 7 22.95q0 3.6.8 6.575t3.3 5.825ZM24 41q1.35 0 2.725-.25t2.875-.65l1.65-3.6-1.6-2.75H18.4l-1.6 2.75 1.65 3.6q1.3.4 2.75.65T24 41Zm-5.3-10.25h10.4l3.05-9.15L24 15.75l-8.3 5.85Zm18.25 4.6q2.45-2.85 3.25-5.825.8-2.975.8-6.575l-2.4-1.65-3.5.9-3.1 9.55L33.9 35Z"],[1,"flex","justify-center","items-center","text-5xl","font-black","font-mono"],[1,"flex","flex-col"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-row","items-center","gap-x-2"],["mat-icon-button","","matTooltip","Eliminar gol",1,"group",3,"click"],[1,"text-shamrock-700","group-hover:text-red-500",3,"svgIcon"],["mat-flat-button","",1,"text-shamrock-900","bg-primary-500",3,"invalid","matTooltip","ngClass","click"],["mat-button","",1,"text-shamrock-900","bg-primary-500",3,"invalid","matTooltip","ngClass","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.YNc(5,X,2,0,"span",5),t.YNc(6,tt,2,0,"span",5),t.qZA(),t.YNc(7,st,11,5,"ng-container",6),t.YNc(8,mt,6,3,"ng-container",6),t.qZA(),t.ynx(9),t.TgZ(10,"div",7)(11,"button",8),t.NdJ("click",function(){return n.closeDialog()}),t._uU(12," Cancelar "),t.qZA(),t.YNc(13,pt,2,5,"button",9),t.YNc(14,_t,2,5,"button",10),t.qZA(),t.BQk(),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("ngIf","add"===n.dialogMode),t.xp6(1),t.Q6J("ngIf","edit"===n.dialogMode),t.xp6(1),t.Q6J("ngIf","add"===n.dialogMode),t.xp6(1),t.Q6J("ngIf","edit"===n.dialogMode),t.xp6(3),t.Q6J("matTooltip","Cancelar"),t.xp6(2),t.Q6J("ngIf","edit"===n.data.dialogMode),t.xp6(1),t.Q6J("ngIf","add"===n.data.dialogMode))},dependencies:[u.mk,u.sg,u.O5,r.JJ,r.On,B.ey,R.lW,O.Hw,k.KE,S.gD,A.gM,u.Ov],encapsulation:2}),o})();var ft=a(8306),xt=a(4098);const ht=function(o){return{"pb-2.5":o}};function vt(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",31),t._uU(2,"Procesado "),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngClass",t.VKq(1,ht,e.processed))}}function Zt(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",32)(2,"button",33),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.openResultDialog("edit",i))}),t._UZ(3,"mat-icon",34),t.qZA(),t.TgZ(4,"button",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.processVotesForResult(i))}),t._UZ(5,"mat-icon",34),t.qZA(),t.TgZ(6,"button",36),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.deleteResult(i))}),t._UZ(7,"mat-icon",37),t.qZA()(),t.BQk()}2&o&&(t.xp6(3),t.Q6J("svgIcon","mat_outline:refresh"),t.xp6(2),t.Q6J("svgIcon","mat_outline:calculate"),t.xp6(2),t.Q6J("svgIcon","mat_outline:delete"))}function Tt(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",19)(2,"div",20),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"div",21)(6,"div",22)(7,"div",23),t._UZ(8,"img",24),t.TgZ(9,"div",25),t._uU(10),t.qZA()()(),t.TgZ(11,"div",26)(12,"div",27),t._uU(13),t.qZA(),t.TgZ(14,"div",28),t._uU(15,"-"),t.qZA(),t.TgZ(16,"div",27),t._uU(17),t.qZA()(),t.TgZ(18,"div",22)(19,"div",23),t._UZ(20,"img",29),t.TgZ(21,"div",25),t._uU(22),t.qZA()()()(),t.YNc(23,vt,3,3,"ng-container",30),t.YNc(24,Zt,8,3,"ng-container",30),t.qZA(),t.BQk()),2&o){const e=s.$implicit;t.xp6(3),t.Oqu(t.xi3(4,9,e.game.date,"short")),t.xp6(5),t.Q6J("src",e.game.localTeam.flag,t.LSH),t.xp6(2),t.Oqu(e.game.localTeam.abbr),t.xp6(3),t.Oqu(e.localGoals.length),t.xp6(4),t.Oqu(e.visitorGoals.length),t.xp6(3),t.Q6J("src",e.game.visitorTeam.flag,t.LSH),t.xp6(2),t.Oqu(e.game.visitorTeam.abbr),t.xp6(1),t.Q6J("ngIf",e.processed),t.xp6(1),t.Q6J("ngIf",!e.processed)}}function bt(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",17),t.YNc(2,Tt,25,12,"ng-container",18),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.filteredResults)("ngForTrackBy",e.trackByFn)}}function yt(o,s){1&o&&(t.TgZ(0,"div",38),t._UZ(1,"mat-icon",39),t.TgZ(2,"div",40),t._uU(3,"!No se encontraron resultados! "),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("svgIcon","heroicons_outline:document-search"))}const Ct=[{path:"",component:(()=>{class o{constructor(e,n,i,l,c,p,_,D,F,Q){this._activatedRoute=e,this._changeDetectorRef=n,this._fuseConfirmationService=i,this._playersService=l,this._resultsService=c,this._resultDialog=p,this._router=_,this._snackBar=D,this._votesService=F,this.store=Q,this.filteredResults=[],this.results=[],this._unsubscribeAll=new b.x}ngOnInit(){this.store.select(f).pipe((0,g.R)(this._unsubscribeAll)).subscribe(e=>{this.results=this.filteredResults=e,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}openResultDialog(e="add",n=new w,i){n.processed?this._snackBar.openFromComponent(T.u,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{status:406,error:{message:"Este resultado ya fue procesado"}}}):this._resultDialog.open(dt,{data:{result:n,dialogMode:e},width:i,panelClass:"ath-dialog-panel"})}processVotesForResult(e){e.processed?this._snackBar.openFromComponent(T.u,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{status:406,error:{message:"Este resultado ya fue procesado"}}}):this._fuseConfirmationService.open({title:"Procesar votos para este resultado",message:"\xbfEsta seguro que desea procesar todos los votos para este resultado?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._votesService.processVotesByGame(e.game._id).pipe((0,g.R)(this._unsubscribeAll)).subscribe(l=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:l.message,icon:{show:!0,name:"heroicons_outline:check",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1})}),this._changeDetectorRef.markForCheck()})}deleteResult(e){e.processed?this._snackBar.openFromComponent(T.u,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{status:406,error:{message:"Este resultado ya fue procesado"}}}):this._fuseConfirmationService.open({title:"Eliminar resultado",message:"\xbfEsta seguro que desea eliminar este resultado?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._resultsService.deleteResult(e.game._id).pipe((0,g.R)(this._unsubscribeAll)).subscribe(l=>{this._fuseConfirmationService.open({title:"Confirmaci\xf3n",message:l.message,icon:{show:!0,name:"heroicons_outline:check",color:"success"},actions:{confirm:{show:!0,label:"Ok",color:"primary"},cancel:{show:!1}},dismissible:!1})}),this._changeDetectorRef.markForCheck()})}trackByFn(e,n){return n.id||e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Z.gz),t.Y36(t.sBO),t.Y36(y.R),t.Y36(M.h),t.Y36(U),t.Y36(d.uw),t.Y36(Z.F0),t.Y36(C.ux),t.Y36(ft.M),t.Y36(m.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ath-results"]],decls:21,vars:3,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"relative","flex-0","py-8","px-4","sm:p-16","overflow-hidden","bg-shamrock-800","dark"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],[1,"z-10","relative","flex","flex-col","items-center"],[1,"text-xl","font-semibold"],[1,"mt-1","text-4xl","sm:text-7xl","font-extrabold","tracking-tight","leading-tight","text-center"],[1,"max-w-2xl","mt-6","sm:text-2xl","text-center","tracking-tight","text-secondary"],["mat-raised-button","","mat-button","",1,"ml-4","text-shamrock-900","bg-primary-500",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1","text-shamrock-900","uppercase","font-semibold"],[1,"flex","flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","w-full","max-w-xs","sm:max-w-5xl","mx-auto"],[4,"ngIf","ngIfElse"],["noResults",""],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-8","mt-8","sm:mt-10"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-col","shadow","rounded-2xl","overflow-hidden","bg-shamrock-100"],[1,"p-2.5","font-semibold","text-xl","w-full","truncate","text-center"],[1,"grid","grid-cols-3","w-full","py-2.5","px-1"],[1,"flex","flex-row","justify-center","items-center","w-full","gap-2"],[1,"w-full","flex","flex-col","justify-center","items-center"],["alt","Local Flag",1,"w-10",3,"src"],[1,"text-xl","font-black","p-2.5"],[1,"grid","grid-cols-3"],[1,"flex","justify-center","items-center","text-5xl","font-black","font-mono"],[1,"flex","justify-center","items-center","font-semibold","text-md"],["alt","Visitor Flag",1,"w-10",3,"src"],[4,"ngIf"],[1,"px-2.5","font-semibold","text-xl","w-full","truncate","text-center",3,"ngClass"],[1,"flex","flex-row","gap-2","w-full","justify-center","pb-2.5"],["mat-icon-button","","matTooltip","Actualizar resultado",3,"click"],[1,"text-shamrock-700",3,"svgIcon"],["mat-icon-button","","matTooltip","Procesar votos para el resultado",3,"click"],["mat-icon-button","","matTooltip","Eliminar resultado",1,"group",3,"click"],[1,"text-shamrock-700","group-hover:text-red-500",3,"svgIcon"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-6","text-2xl","font-semibold","tracking-tight","text-secondary"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.O4$(),t.TgZ(2,"svg",2)(3,"g",3),t._UZ(4,"circle",4)(5,"circle",5),t.qZA()(),t.kcU(),t.TgZ(6,"div",6)(7,"h2",7),t._uU(8,"RESULTADOS DE LOS PARTIDOS"),t.qZA(),t.TgZ(9,"div",8),t._uU(10," Actualice los resultados de los partidos "),t.qZA(),t.TgZ(11,"div",9)(12,"button",10),t.NdJ("click",function(){return n.openResultDialog()}),t._UZ(13,"mat-icon",11),t.TgZ(14,"span",12),t._uU(15,"Agregar"),t.qZA()()()()(),t.TgZ(16,"div",13)(17,"div",14),t.YNc(18,bt,3,2,"ng-container",15),t.YNc(19,yt,4,1,"ng-template",null,16,t.W1O),t.qZA()()()),2&e){const i=t.MAs(20);t.xp6(13),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(5),t.Q6J("ngIf",n.filteredResults.length)("ngIfElse",i)}},dependencies:[u.mk,u.sg,u.O5,xt.PQ,R.lW,O.Hw,A.gM,u.uU],encapsulation:2}),o})(),resolve:{results:(()=>{class o{constructor(e){this._resultsService=e}resolve(e,n){return this._resultsService.getResults()}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(U))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),games:$.V}}];let Rt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[Z.Bz.forChild(Ct),j.m]}),o})()}}]);